# 라이브러리 임베딩 설정을 통한 플러그인 로드 오류 최종 해결 계획

사용자의 플러그인이 `com.pty4j` 패키지를 찾지 못해 로드에 실패하는 문제를 해결하기 위해, 해당 라이브러리를 플러그인 번들 내부에 포함(Embed)하고 클래스패스를 자동으로 설정하도록 합니다.

## 원인 및 해결 방법

1.  **원인**: `pty4j`는 OSGi 번들이 아니므로, 단순히 `Import-Package`에서 제외하는 것만으로는 부족합니다. 플러그인이 로드될 때 자신의 내부에 포함된 라이브러리 파일을 인식할 수 있도록 `Embed-Dependency` 설정이 필요합니다.
2.  **해결**: `pom.xml`의 AMPS 플러그인 설정에 `Embed-Dependency`를 추가하여 필요한 라이브러리들을 플러그인 JAR 파일 내부에 포함시키고 OSGi 클래스패스에 추가합니다.

## 제안된 변경 사항

### [MODIFY] [pom.xml](file:///d:/DevHome/projects/jira-log-viewer/plugin/pom.xml)

- `<instructions>` 섹션에 `<Embed-Dependency>pty4j,jna,purejavacomm;scope=compile|runtime;inline=false</Embed-Dependency>`를 추가합니다.

## 기타 에러 분석 (Failed Plugin Report)

- `plugin-data-editor`: 개발 도구 플러그인으로, Jira 10과 호환되지 않아 발생하는 것으로 보입니다. 사용자의 플러그인 동작에는 영향이 없습니다.
- `jira-migration-plugin`: Jira 클라우드 마이그레이션 도우미로, 로컬 개발 환경의 설정 미비로 인해 Spring 빈 생성에 실패하는 경우가 많습니다. 역시 무시해도 무방합니다.

## 검증 및 실행 절차

1.  현재 실행 중인 `atlas-debug`를 중단합니다 (Ctrl+C).
2.  `atlas-mvn clean package` 명령어로 플러그인을 다시 빌드합니다.
3.  `atlas-debug -pl plugin` 명령어로 Jira를 다시 실행합니다.
